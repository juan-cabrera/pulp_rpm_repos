---

- debug:
    msg: "Starting installation tasks"

- name: install | Add API credentials
  template:
    src: netrc
    dest: ~/.netrc
    mode: 0600
  become: yes
  become_user: "{{ pulp_repo_user }}"

- name: install | copy scripts
  copy:
    src: "{{ item }}"
    dest: "~/{{ item }}"
    mode: 0700
  become: yes
  become_user: "{{ pulp_repo_user }}"
  loop:
    - create_repo
    - remove_repo
    - check_repo
    - add_package

- name: install | install yum utils for developpment if need
  yum:
    name: "{{ item }}"
    state: present
  loop: "{{ pulp_repo_yum_utils }}"
